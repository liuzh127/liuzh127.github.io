---
layout: post
title: Linux命令
categories: [Linux基础]
tags: [Linux命令]
---
#### 1. 文件和目录
**[创建文件]**`touch 文件名`  
**[创建目录]**`mkdir [-mp] 目录名`*-m手动配置目录权限，-p递归创建所有目录*  
**[删除文件/目录]**`rm [-rf] 文件名/目录名`*-r向下递归，-f强制删除*  
**[移动文件/目录]**`mv [-f] 源文件/目录 目标文件/目录`*-f强制删除*  
<!-- more -->
**[复制文件/目录]**`cp [-rf] 源文件/目录 目标文件/目录`*-r向下递归，-f强制删除*  
**[远程复制文件/目录]**`scp [-rvP] [端口] 源文件/目录 目标用户名@目标IP:目标文件/目录`*-r包含目录，-v显示进度，-P指定端口*  
**[修改文件/目录所属用户/组]**`chown [-R] [用户]:[组] 文件名/目录名`*-R向下递归*  
**[修改文件/目录权限]**`chmod [-R] 755 文件名/目录名`*-R向下递归*  
#### 2. 用户和组
**[创建组]**`groupadd 组名`  
**[创建用户]**`useradd [-g] [组名] 用户名`*-g指定用户所属组*  
**[删除组]**`groupdel 组名`  
**[删除用户]**`userdel [-r] 用户名`*-r同时删除主目录*  
**[变更用户所属组]**`usermod [-g] [组名] 用户名`*-g指定用户所属组*  
**[创建修改用户密码]**`passwd [-lud] 用户名`*-l即禁用用户,-u解锁用户，-d取消密码*  
**[切换用户]**`su - 新用户名`*-在切换用户的同时切换环境变量*  
#### 3. 内存和磁盘
**[/boot]**引导分区，存放Linux的Grub和内核源码，1G以上或不分区  
**[/]**根目录，该目录下一般只有目录  
**[swap]**交换空间，将硬盘上某个区域模拟为内存,只能由系统访问，为物理内存的2倍  
**[/home]**用户目录，不与根目录共享磁盘空间  
**[/tmp]**临时文件，需要定期清理  
**[/usr]**软件目录，存放系统基本程序以外的应用程序  
**[/srv]**数据目录，某些服务启动之后需要访问此目录  
**[/etc]**配置目录，配置文件存放于此目录  
**[/dev]**设备目录，设备都以文件类型存放于此目录  
**[/media]**挂载目录，临时挂载文件系统或者硬件设备  
**[/opt]**软件目录,第三方软件存储于此目录  
**[/proc]**存储当前的进程ID和CPU、内存的映射等，此目录位于内存，本身不占用磁盘空间  
**[/var]**主要放置系统执行过程中经常变化的文件，如缓存（cache）和登录文件（log file）  
**[查看磁盘信息]**`fdisk -l`  
**[查看一级子目录/文件大小]**`du -lh --max-depth=1`*-l链接和本体只记一次,-h方便阅读，--max-depth=1最深层数:1*  
**[挂载磁盘]**`mount -t [文件类型] [-o loop] 真实路径 挂载路径`*-t文件类型，-o loop挂载为硬盘分区*  
**[卸载磁盘]**`umount 挂载路径`  
**[查看总体占用情况]**`top`*实时展示系统资源占用，按C按照CPU倒序，按M按照内存倒序*  
**[查看内存占用情况]**`free [-m] [-g]`*-m以MB为单位显示，-g以GB为单位显示*  
**[查看磁盘占用情况]**`df -hT`*-h方便阅读，-T显示文件系统类型*  
**[查看CentOS系统版本]**`cat /etc/centos-release`  
**[查看CPU总体情况]**`cat /proc/cpuinfo`*physical id物理CPU编号，core id物理CPU内核编号，model name物理CPU型号*  
**[查看物理CPU个数]**`cat /proc/cpuinfo| grep "physical id"| sort| uniq| wc -l`  
**[查看物理CPU核数]**`cat /proc/cpuinfo| grep "cpu cores"| uniq`  
**[查看逻辑CPU总数]**`cat /proc/cpuinfo| grep "processor"| wc -l`*逻辑CPU总数=物理CPU总核数*  
**[查看物理CPU型号]**`cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c`  
#### 4. 服务和端口
**[查看进程运行情况]**`ps -ef [--sort=-标题][|head -行数]`*--sort=-按特定列排序(有-倒序无-正序)，head -取前n行,标题为小写*  
**[查看进程资源占用情况]**`ps -aux [--sort=-标题][|head -行数]`*显示CPU和内存占用，其它同上*  
**[查看端口占用情况]**`ss [-tanp]|grep 端口`*-t显示TCP进程，-a显示所有sockets，-n不解析服务名称，-p显示使用socket的进程，grep过滤端口*  
#### 5. 网络
**[查看网卡信息]**`ip a`*a同ad、add、addr、address*  
**[修改网卡信息]**`vi /etc/sysconfig/network-scripts/ifcfg-网卡名`*NAME网卡名，ONBOOT开机自启，IPADDR是IP，PREFIX子网掩码24，GATEWAY网关*  
**[重启网络服务]**`systemctl restart network`*修改网卡信息后，需重启网络才会应用新配置*  
**[启用/禁用网卡]**`ip link set 网卡名 [up][down]`*up启用，down禁用*  
#### 6. vi编辑器
**[编辑信息]**`i`*i切换到输入模式*  
**[保存信息]**`[esc]:wq!`*[esc]切换到命令模式，:切换到底线命令模式，w保存文件，q退出程序，!强制执行*  
**[搜索信息]**`/关键字`*命令模式可用，全文搜索关键字并高亮，N上一个，n下一个，/nop取消高亮*  
**[跳转行数]**`shift+g/gg`*命令模式可用，光标跳转到尾行/首行*  
**[删除信息]**`ndd`*命令模式可用，删除光标以下n行，光标自动移到下一行*  
**[复制信息]**`nyy`*命令模式可用，复制光标以下n行*  
**[粘贴信息]**`p`*命令模式可用，从光标所在行的下一行开始粘贴*  
**[回退操作]**`u`*命令模式可用，回退操作，至上一步的状态*  
**[复原操作]**`[Ctrl]+r`*命令模式可用，复原操作，至下一步的状态*  
#### 7. 历史记录
**访问环境变量配置文件**  
`vi /etc/profile`  
**配置显示历史记录显示**  
`export HISTFILESIZE=10000`*保留一万条记录  
`export HISTSIZE=10000`输出倒数一万条记录  
`export HISTTIMEFORMAT="%Y-%m-%d %H:%M:%S"`  
**重新载入环境变量**  
`source /etc/profile`  
#### 8. 未完待续
